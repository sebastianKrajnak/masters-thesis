(function(){"use strict";var e={5436:function(e,n,t){var o=t(4220),r=t(9812);function u(e,n){const t=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(t)}var i=t(8998);const c={},a=(0,i.Z)(c,[["render",u]]);var l=a,d=t(644),s=t(5893);const f={key:0};function p(e,n,t,u,i,c){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("h2",null,"You are connected to "+(0,s.zw)(e.$route.params.id),1),(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>u.text=e),onInput:n[1]||(n[1]=(...e)=>u.updateText&&u.updateText(...e)),onKeyup:n[2]||(n[2]=(...e)=>u.handleKeyUp&&u.handleKeyUp(...e)),onKeydown:n[3]||(n[3]=(...e)=>u.handleKeyDown&&u.handleKeyDown(...e)),placeholder:"Type something..."},null,544),[[o.nr,u.text]]),(0,r._)("p",null,(0,s.zw)(u.text),1),u.displaySaving?((0,r.wg)(),(0,r.iD)("p",f,"Saving...")):(0,r.kq)("",!0)])}var v=t(521),h=t(6896);const m=(0,v.qj)({connected:!1}),y="http://192.168.0.199:3000",g=(0,h.io)(y);g.on("connect",(()=>{m.connected=!0})),g.on("disconnect",(()=>{m.connected=!1}));var w=g,b={setup(){const e=(0,v.iH)(""),n=(0,d.yj)(),t=n.params.id;let o,u=!1;const i=(0,v.iH)(!1),c=()=>{w.emit("send-changes",e.value)},a=()=>{u=!1,clearTimeout(o),o=setTimeout((()=>{l()}),1500)},l=()=>{u||(i.value=!0,setTimeout((()=>{w.emit("save-document",e.value),i.value=!1}),1500))},s=()=>{u=!0},f=n=>{console.log("received changes"),e.value=n};return(0,r.bv)((()=>{w.once("load-document",(n=>{console.log("load document was called",n),e.value=n})),w.emit("get-document",t)})),(0,r.Ah)((()=>{clearInterval(o)})),w.on("receive-changes",f),{text:e,displaySaving:i,updateText:c,handleKeyDown:s,handleKeyUp:a}}};const O=(0,i.Z)(b,[["render",p]]);var x=O,j=t(4008);const T=(0,j.Z)(),K=(0,d.p7)({history:(0,d.PO)(),routes:[{path:"/",redirect:{name:"document",params:{id:T}}},{path:"/documents/:id",name:"document",component:x}]});var S=K;const k=(0,o.ri)(l);k.use(S),k.mount("#app")}},n={};function t(o){var r=n[o];if(void 0!==r)return r.exports;var u=n[o]={exports:{}};return e[o].call(u.exports,u,u.exports,t),u.exports}t.m=e,function(){var e=[];t.O=function(n,o,r,u){if(!o){var i=1/0;for(d=0;d<e.length;d++){o=e[d][0],r=e[d][1],u=e[d][2];for(var c=!0,a=0;a<o.length;a++)(!1&u||i>=u)&&Object.keys(t.O).every((function(e){return t.O[e](o[a])}))?o.splice(a--,1):(c=!1,u<i&&(i=u));if(c){e.splice(d--,1);var l=r();void 0!==l&&(n=l)}}return n}u=u||0;for(var d=e.length;d>0&&e[d-1][2]>u;d--)e[d]=e[d-1];e[d]=[o,r,u]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,o){var r,u,i=o[0],c=o[1],a=o[2],l=0;if(i.some((function(n){return 0!==e[n]}))){for(r in c)t.o(c,r)&&(t.m[r]=c[r]);if(a)var d=a(t)}for(n&&n(o);l<i.length;l++)u=i[l],t.o(e,u)&&e[u]&&e[u][0](),e[u]=0;return t.O(d)},o=self["webpackChunkclient"]=self["webpackChunkclient"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(5436)}));o=t.O(o)})();
//# sourceMappingURL=app.16b7f8e4.js.map